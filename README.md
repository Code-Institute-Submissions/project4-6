# Munchies Mega Meal Deals

## Website Summary:
Munchies Mega Meal Deals is a site hosting restaurant information and voucher purchases. The business model of the website sale of restaurant vouchers based on the provision of a discount associated with the voucher purchase.
Every restaurant on the site has a discount associated with the purchase of a voucher at a specific cost. For example, purchase a voucher for 40 dollars, and receive a 10% discount on your meal when you use your voucher.
Users can purchase multiple vouchers from a single or multiple restaurants in a single transaction, adding them to a shopping cart and check out securely with the facility to pay using a credit card. Once the purchase is completed, users receive an email with details of their purchases and will receive their discount on presenting their voucher email confirmation when paying for their meal.
The discounts offered by restaurants incentivises users to purchase vouchers for restaurants on the website over their competitors.
The site provides a good foundation for developing the business model further, which can be expanded to offer additional discounts to users that pay a subscription, and offer advertising, booking services and paid subscriptions to resturants that wish to use the site as an advertising tool.

## Website URL:
### https://munchies-mega-meal-deals.herokuapp.com/

## UX
### Munchies Mega Meal Deals provides services to a number of groups of individuals as follows:

**Users:** The website is designed around providing a facility for individuals to purchase vouchers for restaurants with the added bonus of receiving a discount off the cost of their meal if they purchase a voucher at a specific cost using this website. Users can browse through the entire set of restaurants hosted on the site, or alternatively there are a number of features added for ease of use in restaurant discovery.
For example users can search for a specific restaurant by name, or select restaurants by a specific cuisine or location. The website presents an image associated with the restaurant as well as a short description of the restaurant, the voucher cost and associated discount available. The user can add restaurant vouchers to their shopping cart and easily move through the steps of checking out and paying for their vouchers using a credit card.
Finally users receive details of their purchase by way of an email communication containing their purchase details.

**Website Administrators:** Website Administrators are provided with the ability to manage the restaurant information hosted on the website using a set of graphical user interfaces. They can update restaurant details, or delete a restaurant, using links provided on the restaurant details page.
They can add a new restaurant using the admin console, with a link provided for admin users under the Account heading in the website navbar. 

**Website owner:** The website owner oversees and benefits from the business model of the website and can review the information on the site by browsing it to ensure it is presented acurantely and attractively. 
The website owner can grow the business model of the website such as monetising the advertising received by restaurants, and offering additional vouchers or discounts based on premium user subscriptions.
Note: the website administrator and owner may be the same individual or group.

**Restaurant owners:** Restaurant owners provide the input for the website and use the website to sell vouchers for their restaurants. This provides restaurants with an opportunity for increased advertising and growing their customer base. 
It also provides them with a digital platform for making sales, using a shared restaurant hosting site may enable them to avoid greater costs associate with implementing a bespoke digital platform specifically for their restaurant.

### **The User Stories for Munchies Mega Meal Deals are as follows:**


| ID: | Role:	   	 | Functionality:                                                    | Goal:                                                                                 |
| --- | -------------| ----------------------------------------------------------------- | -------------------------------------------------------------------------------       |
|     |            	 |                                       			                 |                                                                                       |
|     |            	 | **_Viewing and Navigation_**                                      |                                                                                       |
| 1   | User       	 | Browse all restaurant listings on the site                        | View the details and determine if I would like to purchase a voucher                  |
| 2   | User       	 | Select a specific restaurant and view its details                 | View the Voucher cost and discount and add to the shopping bad if I wish              |
| 3   | User       	 | Be able to check my shopping cart total at any point in time      | Be able to see my current potential spend and determine if it needs adjusting         |        				
|     |            	 |                                                                   |											                                             |		
|     |            	 | **_Sorting and Searching_**                                       |                                                                                       |
| 4   | User       	 | Vew all restaurants, sorting them as desired                      | View restaurants sorted by price, discount, name, cuisine and location                |
| 5   | User       	 | Select a specific cuisine and view associated restaurants         | View restaurants of a specific category to narrow my purchase selection criteria	     |
| 6   | User       	 | Select a specific location and view associated restaurants        | View restaurants of a specific location to narrow my purchase selection criteria      |
| 7   | User       	 | Search for a restaurant and view results                          | Find a specific item I wish to purchase                                               |
|     |            	 |                                                                   |											                                             | 					
|     |            	 | **_Purchasing and Checkout_**                                     |                                                                                       |
| 8   | User       	 | View my shopping cart contents                                    | Easily check what is currently in my shopping bag/cart           		             |
| 9   | User       	 | Adjust the quantity of vouchers for specific restaurants          | Easily update the number of vouchers in my shopping bag for a restaurant              |
| 10  | User       	 | Remove resturant vouchers for specific restaurants                | Easily remove vouchers in my shopping bag for a restaurant       		             |
| 11  | User       	 | Easily proceed from adding to bag or shopping cart to checkout    | Easily move an individual purchase or my shopping bag to the checkout                 |
| 12  | User       	 | View my order summary before making payment if desired            | Ensure my intended purchase is as expected before committing                          |
| 13  | User       	 | Enter my payment information and complete checkout                | Provide my payment and complete the transaction smoothly with no issues               |
| 14  | User       	 | Feel my payment and personal information is secure                | Provide my payment and and personal information securely				                 |
| 15  | User       	 | Receive a confirmation email containing my purchase details       | Verify, and ensure I can check back on my order details at the later stage if needed  |
|     |            	 |                                       			                 |                                                                                       |
|     |            	 | **_Registration and User Accounts_**                              |                                                                                       |
| 16  | Subscriber*  | Register for an account on the website                            | Faster checkouts using saved billing information and ability to review orders         |
| 17  | Subscriber 	 | Log in and out of the site as desired                             | Make use of the faster checkout and check my order history when needed                |                                                                      |
| 18  | Subscriber   | Reset my password                                      	         | Be able to reset my password if I forget it                                           |
| 19  | Subscriber   | Receive registration confirmation by email                        | Be able to verify my user registration	                                             |
| 20  | Subscriber   | Receive password reset link by email				                 | Be able to progress to resetting my password easily				                     |
|     |            	 |                                       			                 |                                                                                       |
|     |            	 | **_Admin and Store Management_**                                  |                                                                                       |
| 21  | Site Admin 	 | Add a resturant 						                             | Add new restaurants as required							                             |      
| 22  | Site Admin 	 | Update restaurant details                                         | Update restaurant details as required                                		         |
| 23  | Site Admin	 | Delete a restaurant						                         | Remove restaurants as required  							                             |	
|     |            	 |                                       			                 |                                                                                       |
|     |            	 | **_Site Strategy Management_**                                    |                                                                                       |    
| 24  | Site Owner 	 | Browse the site as a user                                         | Assess the website user experience against competitor websites                        |
| 25  | Site Owner 	 | Review the site offers                                            | Assess website cost competitiveness and assess growth opportunities                   |
|     |            	 |                                       			                 |                                                                                       |
|     |                  | **_Seller Restaurant Management_**                            |                                                                                       |
| 26  | Restaurant Owner | Browse the site as a user                                     | Assess my restaurant presentation on the website                                      |
| 27  | Restaurant Owner | Review the site offers                                        | View offers of other restaurants and make business decisions on discounts offered     |
|_____|__________________|_______________________________________________________________|_______________________________________________________________________________________|

*Subscriber is someone who is in the process of or has set up an account on the website.

## **Features:**

### **Existing Features:**

**Homepage:**
* The home page of the website provides the navigation bar from which all elements of the site can be accessed by the user.
* Users can click the various options on the screen to sort and filter their restaurant selections, navigate to their shopping cart, access account options, and navigate back to the home page if they leave it.
* The homepage content provides a quick overview of the spend and save aspect of the retaurant voucher and discount purchase and a link to the restaurant page from where users can select restaurants and purchase vouchers.

**Restaurant and Restaurant Details pages:**
* These pages enable the user to view the restaurants selling vouchers on the site and play around with their view using the sort criteria.
* Users can select the options to sort restaurants by voucher cost, discount amount, restaurant name, cuisine and location.
* Each restaurant has a "purchase restaurant voucher" button which brings the user to the restaurant details page where they can add a voucher to their shopping bag.

**The Shopping bag:**
* The user can easily reach the shopping bag at any time from the navigation bar in the laptop view and dropdown in the mobile view. The shopping bag provides a list of items the user has currently lined up for purchase and their subtotals and total.
* The user is provided with the option in the form of buttons to either continue (keep) shopping, or proceed to a secure checkout.

**Secure Checkout:**

* The flow from adding items or viewing the shopping bag to checking out securely is very smooth. An onscreen message is displayed when a user first adds a restaurant to the shopping bag and offers to take the user directly to the secure checkout page.
* The user can opt to continue shopping and finally check their shopping bag where the option to proceed to the secure checkout is provided.
* On the secure checkout page the user can checkout successfully by entering their billing information and credit card details. If the user has a user profile the checkout information is saved and automatically populated, making checkout even easier.

**User profile retention:**
* A user can opt to register on the site which enables them to view their user profile details and order history on the View Profile page, and makes checking out easier as the user related fields are populated automatically.

**Admin features:**
* A website administrator can add a restaurant using the Admin link under Account on the navbar. The administrator enters the restaurant information and an image available and submits it which updates the restaurant database.
* The website administrator can also update or remove an existing restaurant from the restaurant page or the restaurant details page. The administrator can update the restaurant details by adjusting any fields necessary on the update restaurant page, or use the remove button to remove the restaurant.

### **Future Features:**

The Munchies Mega Meal Deals website provides a good foundation for expanding the business model by adding the following features:

**Enabling the sending of vouchers as gifts:**
* This feature would involve the user being able to provide two additional pieces of information on purchasing a voucher, 1. Marking the order as a gift, 2. Providing the email address of the gift recipient.
* The gift recipient would then receive an email confirmation of the gift purchase containing their voucher.

**Links to restaurant menus,reviews and google maps locations:**
* This feature would increase the accessibility of restaurants to users by providing links to restaurant websites or menus if they are hosted online, or providing them in a new database on this website. Adding a restaurant review feature would also provide a quality control mechanism for the website owner and enable restaurants to see feedback from their customers.
* Google maps integration would also make it easier for users to check restaurant locations for proximity and increase the likelihood of bookings and voucher purchases.

**Add booking links and monetize based on commission:**
* This feature would involve adding links on the restaurant pages to book a meal in the restaurant, with the possibility of monetising this feature based on the website owner receiving a commission for restaurant bookings.

**Premium user status:**
* This feature would involve the creation of a subscription service that users can opt into and become premium users that pay a subscription fee and receive additional or top-up restaurant discounts. This would generate a steady revenue stream for the website owner.


## **Technologies Used**
The following teachnologies were used in creating this project:

**HTML:**
* HTML was used to create html templates for the website to present the website pages to all users of the website. The following are among the websites referenced in the use of HTML:
* Tutorials and howto's: https://www.w3schools.com/html/
* HTML validation: https://validator.w3.org/

**CSS:**
* CSS was used in the project to add to the look and feel of the site as required. A mobile first approach was used with CSS and media queries were created to deal with specific requirements for larger screens.
* CSS code was validated and corrected using the following site: https://validator.w3.org/

**Javascript:**
* JQuery was used for javascript purposes on the site, referencing https://jquery.com/. This was used to enhance the user experience in using the site, providing a loading spinner during checkout and enabling users to increase and decrease the quantity of restaurant vouchers being purchased. It was also used in the backend for Strpie integration.

**Python:**
* Python was used for the views created in the website, providing the underpinning application logic, referencing the site https://www.python.org/.

**Bootstrap:**
* Bootstrap was used to provide a response website and simplify the design of html elements,  referencing the site https://getbootstrap.com/.

**Django:**
* Django provided the framework within which the website was developed, using a base project application and a number of added django apps, regerencing the site https://www.djangoproject.com/

**Stripe:**
* The website was configured to integrate with the Stripe payment system for the purposes of accepting online payments - https://stripe.com/ - for test credit cards only.

**Postgres:**
* A postgres database was provisioned as a resource in Heroku for the purposes of creating an online website for the database, and the fixtures created for the project were used to update the restaurant, cuisine and location databases which hold the core website data.

## **Testing**

**Testing approach:**
The testing approach for the project was manual. The following sections outline the test plans for each set of User Stories:


**_Viewing and Navigation User Stories:_**
* Browse all restaurant listings on the site
* Select a specific restaurant and view its details
* Be able to check my shopping cart total at any point in time

**_Viewing and Navigation Test Plan:_**
* Go to the website homepage
* On the navigation bar, click Restaurants, and in the dropdown select All Restaurants
* Verify that you are presented with the list of restaurants presented in a card format and can view the name, image, voucher cost, discount, cuisine and location of the restaurant.
* Select a restaurant and click on the Purchase Restaurant Voucher option.
* Verify that you are taken to a new page containing the restaurant details as above and in addition the facility to select a number of restaurant vouchers and add them to the shopping cart.
* Click on the Add to Shopping Bag option and verify you are presented with a message offering to navigate directly to the secure checkout.
* Back in the restaurant details page, click on the keep shopping button and verify you are returned to the page containing restaurants.
* On the main navigation bar, click on the Home button and verify the user is returned to the homepage

                                           
**_Sorting and Searching User Stories:_**                
* Vew all restaurants, sorting them as desired
* Select a specific cuisine and view associated restaurants
* Select a specific location and view associated restaurants
* Search for a restaurant and view results 

**_Sorting and Searching Test Plan:_**
* Go to the website homepage
* On the main navigation bar, click Restaurants, and in the dropdown select All Restaurants. 
* Use the Sort By button on the top right of the restaurants and test each of the sort option. Verify each sort option works as expected.
* On the main navigation bar, click Restaurants, and in the dropdown select By Cuisine. Verify the list of restaurants is sorted accordingly.
* On the main navigation bar, click Restaurants, and in the dropdown select By Location. Verify the list of restaurants is sorted accordingly.
* On the main navigation bar, click Restaurants, and in the dropdown select By Price. Verify the list of restaurants is sorted accordingly.
* On the main navigation bar, click Cuisine. Click each dropdown option in turn and verify the list of restaurants presented matches the required option.
* On the main navigation bar, click Location. Click each dropdown option in turn and verify the list of restaurants presented matches the required option.
* On the main navigation bar, type part of a restaurant name in the search box and hit return. Verify the relevant restaurant(s) is/are returned.
* On the main navigation bar, type part of a restaurant name in the search box and hit click on the search icon. Verify the relevant restaurant(s) is/are returned.


**_Purchasing and Checkout User Stories:_**                                     
* View my shopping cart contents                                     
* Adjust the quantity of vouchers for specific restaurants          
* Remove resturant vouchers for specific restaurants                
* Easily proceed from adding to bag or shopping cart to checkout    
* View my order summary before making payment if desired            
* Enter my payment information and complete checkout                
* Feel my payment and personal information is secure                
* Receive a confirmation email containing my purchase details       
                                       
**_Purchasing and Checkout Test Plan:_**
* Go to the website homepage
* On the main navigation bar, click Restaurants, and in the dropdown select All Restaurants. 
* Select a restaurant and click Purchase Restaurant voucher
* Under the Quantity heading, click the + and - options and verify the quantity in the field is adjusted accordingly
* Click Update and quickly check the new quantity if reflected in the shopping bag total
* Click on the Add to Shopping Bag option and verify you are presented with a message offering to navigate directly to the secure checkout.
* Click on go to secure checkout and verify an order summary is presented and is correct.
* Fill in the personal and credit card details in the order sheet and click on the Complete Order button. Verify you are brought to the new screen with the order summary with a home and keep shopping button. Verify these buttons work as expected.
* Verify you receive an email with details of the restaurant voucher purchase.

**_Additional tests:_**
* Repeat the steps above except add multiple restaurants to the shopping bag before proceeding to the secure checkout.
* Repeat the steps above except close the message offering to navigate directly to the secure checkout. Instead, go to the shopping bag, verify you are presented with details of all of the items added to the shopping bad, then select the secure checkout option and complete the secure checking steps described above.
* Repeat the steps above except on the secure checkout screen click the adjust bag button. Verify you can adjust the quantities of items in the shopping bag, and return to the secure checkout screen and complete the transaction.


**_Registration and User Accounts User Stories:_**                              
* Register for an account on the website                            
* Log in and out of the site as desired                             
* Reset my password                                          
* Receive registration confirmation by email                        
* Receive password reset link by email

**_Registration and User Accounts Test Plan:_**
* As a not logged in user, on the main navigation bar, click Acccount, and in the dropdown click Register. Verify that a signup screen is presented and upon entering the required details you are registered and receive a confirmation email.
* As a registered user, on the main navigation bar, click Acccount, and in the dropdown click Login. Verify open providing a valid username and password that you are logged in successfully.
* As a logged in user, on the main navigation bar, click Acccount, and in the dropdown click Logout. Verify you are presented with a logout confirmation and once you click signout you are logged out successfully.
* As a not logged in user, on the main navigation bar, click Acccount, and in the dropdown click Login. Enter a username and click forgot password. Enter your email address and verify once you click reset my password a password email reset email is received and can be used to reset the password successfully.
* As a logged in user, on the main navigation bar, click Acccount, and in the dropdown click View Profile. Verify your user profile detail contains your correct user information and an order history for the user.

      
**_Admin and Store Management User Stories:_**                                  
* Add a resturant 
* Update restaurant details                                         
* Delete a restaurant

**_Admin and Store Management Test Plan:_**
* Log in as an administrator, on the main navigation bar, click Acccount, and in the dropdown click Admin. Verify this takes you to a Restaurant Admin Console where a restaurant can be added by completing the Add restaurant form and providing an image.
* Log in as an administrator, on the main navigation bar, click Restaurants, and in the dropdown select All Restaurants. Select Update Restaurant Details for a restaurant and verify you are presented with an update restaurant form. Verify once you update a selection of fields and click Update Restaurant that the restaurant details are updated successfully.
* Log in as an administrator, on the main navigation bar, click Restaurants, and in the dropdown select All Restaurants. Select Remove Restaurant and verify the restaurant is removed from the list of restaurants.

**_Additional tests:_**                                      
* Repeat the above tests except by selecting Purchase Restaurant Voucher on one of the resturants and clicking on the links from the restaurant details page.


**_Site Strategy Management User Stories:_**                                    
* Browse the site as a user                                         
* Review the site offers                                            

**_Site Strategy Management Test Plan:_**                                    
* Browse the website as a user and make the necessary comparisons with competitors and between restaurants hosted on the site for business purposes.

**_Seller Restaurant Management User Stories:_**
* Browse the site as a user
* Review the site offers

**_Seller Restaurant Management Test Plan:_**
* Browse the website as a user and make the necessary comparisons and evaludations with competitor restaurants for business purposes.


**_Additional tests:_**
* Repeat the above tests on various device sizes and verify the website is responsive as designed.


## **Deployment**

**Deployment Process:**
* The website was developed in Gitpod and deployed to Heroku for application hosting purposes, with static files deployed to AWS.
* The following tools and commands were used to develop and deploy the website:

**GitHub:**
* Used for version control with all project files hosted in github. Upates were pushed from the IDE to github as follows:

* git add (names of the files updated since the last deployment, or git add . to add all changes)
* git commit -m (a message with details of updates made since the last deployment)
* git push

**Gitpod:**
* The website was developed in Gitpod, and online IDE enabling the GidHub hosted project to be launched in a Gitpod workspace and developed and run there - https://gitpod.io/
* The project can be run from the workspace using this command while the workspace is started: python3 manage.py runserver

## **Please note: in order to include CSS when running the project locally in Gitpod, the following update to settings.py is required:**

* Edit the settings.py file in the Project4 folder.
* Uncomment the line "DEBUG = True"
* Comment the line "DEBUG = 'DEVELOPMENT' in os.environ"
  * DEBUG = 'DEVELOPMENT' in os.environ
  * #DEBUG = True
* Then run the project providing the variables: STRIPE_PUBLIC_KEY, STRIPE_SECRET_KEY and STRIPE_WH_SECRET.


**Heroku:**
* The website was deployed to Heroku - https://www.heroku.com/ - by signing up for a Heroku account and logging in initially.
* Once loogged in, click New, then click Create new app, and enter an app name (munchies-mega-meal-deals) and region (Europe), then clicking Create App.
* A postgres database resource was created within the new application to host the website database.
* In settings, the GitHub git URL was added to enable automatic deployments to Heroku upon running a git push in Gitpod.
* Config Vars were also added in Heroku for;
  * AWS authentication
  * Database url for the postgres database
  * Email variables required for Gmail email notification integration
  * Secret key for Stripe webhook, secret signing key and public keys
  * Variable to direct the usage of AWS by the project

**AWS:**
* Static files for the website were deployed to AWS - https://aws.amazon.com/console/.
* This involved creating an account in AWS and logging in.
* Next creating an S3 bucket and creating an IAM user, group and policy with the required access to the S3 bucket and downloading the user credentials for programatic access to the bucket.
* The AWS integration is then configured within the website with the cretentials stored as Config Vars in Heroku.
* The media files consisting of the background images and restaurant images were manually uploaded to a media folder created in the S3 bucket.

**The environment variables are consistent between the github and Heroku deployments where possible however there are variations such as the following:**
* Variables required for the AWS static file storage required on Heroku only
* Differing Stripe webhook secret keys


## **Credits**

* The content for the following files were copied from the Boutique Ado example Django project, with minor adjustments made for this project where required:
  * stripe_elements.js
  * webhooks.py
  * webhook_receiver.py
  * quantity_input_script.html
  * widgets.py
  * custom_clearable_file_input.html

* The navbar for the project followed the following example to achive the collapsing of a 2-line navbar: 
https://www.codeply.com/go/DdLqpfUy6D


## **Media**
The photos used in this site were free stock images obtained from pixabay.com and unsplash.com

## **Acknowledgements**
Acknowledgements to the Boutique Ado example Django project and the full-stack-frameworks slack group for assistance in developing and deploying the project.
